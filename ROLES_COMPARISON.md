# ADMIN vs USER 역할 비교

## 공통 기능 (USER와 ADMIN 모두 사용 가능)

### 1. 대여소 탐색
- ✅ 현재 위치 기반 주변 대여소 검색
- ✅ 반경 조절 (0.5km ~ 10km)
- ✅ 지도에서 대여소 확인
- ✅ 대여소 상세 정보 조회
- ✅ 부하율 시각화 (부족/보통/양호/여유)
- ✅ D3.js 차트로 부하율 분포 확인

### 2. 즐겨찾기
- ✅ 대여소 즐겨찾기 추가/삭제
- ✅ 즐겨찾기 목록 조회

### 3. 고장 신고
- ✅ 고장 신고 제출 (대여소, 자전거, 카테고리, 내용, 사진)
- ✅ 내 신고 목록 조회
- ✅ 신고 상태 확인 (접수됨/진행 중/완료/거부됨)

### 4. 커뮤니티
- ✅ 게시글 목록 조회
- ✅ 게시글 상세 보기
- ✅ 게시글 작성 (로그인 필요)
- ✅ 내 게시글 수정/삭제
- ✅ 댓글 작성
- ✅ 좋아요 토글
- ✅ 게시글 검색

### 5. 마이페이지
- ✅ 프로필 정보 확인
- ✅ 대여 내역 조회
- ✅ 즐겨찾기 목록
- ✅ 내 신고 목록
- ✅ 획득한 배지 확인
- ✅ 알림 확인 및 읽음 처리

---

## USER 전용 기능

### 제한 사항
- ❌ 관리자 페이지 접근 불가
- ❌ 다른 사용자 정보 조회 불가
- ❌ 시스템 설정 변경 불가

### 사용 가능한 기능
- ✅ 모든 공통 기능 사용 가능
- ✅ 본인이 작성한 게시글만 수정/삭제 가능
- ✅ 본인의 신고만 조회 가능

---

## ADMIN 전용 기능

### 1. 회원 관리 (`/admin/users`)
- ✅ 전체 회원 목록 조회
- ✅ 회원 역할 변경 (USER ↔ ADMIN)
- ✅ 회원 활성/비활성화
- ✅ 회원별 대여 수, 신고 수 확인

### 2. 대여소 관리 (`/admin/stations`)
- ✅ 전체 대여소 목록 조회
- ✅ 새 대여소 추가
- ✅ 대여소 정보 수정 (이름, 위치, 도크 수)
- ✅ 대여소 활성/비활성화
- ✅ 대여소별 현재 상태 확인 (대여 가능/반납 가능)

### 3. 자전거 관리 (`/admin/bikes`)
- ✅ 전체 자전거 목록 조회
- ✅ 새 자전거 추가
- ✅ 자전거 상태 변경 (AVAILABLE/IN_USE/FAULT/MAINTENANCE)
- ✅ 자전거를 대여소에 배정

### 4. 신고 관리 (`/admin/reports`)
- ✅ 전체 신고 목록 조회
- ✅ 신고 상세 정보 확인
- ✅ 유지보수 주문 배정 (담당자, 우선순위, 마감일)
- ✅ 신고 검증 (유효/무효)
- ✅ 신고 상태 변경

### 5. 재배치 추천 (`/admin/rebalancing`)
- ✅ 자전거가 부족한 대여소 식별
- ✅ 자전거가 여유로운 대여소 식별
- ✅ 자동 재배치 제안 (어느 대여소에서 어디로 몇 대 이동)

### 6. 통계 대시보드 (`/admin`)
- ✅ 최근 7일 대여 통계 (Bar 차트)
- ✅ 신고 상태별 통계 (Doughnut 차트 + D3.js 파이 차트)
- ✅ 유지보수 상태별 통계 (Doughnut 차트 + D3.js 파이 차트)
- ✅ 대여소 혼잡도 분포 (Doughnut 차트 + D3.js 파이 차트)
- ✅ 전체 사용자 수, 활성 사용자 수
- ✅ 통계 카드 (시각적 지표)

---

## 기능 비교표

| 기능 | USER | ADMIN |
|------|------|-------|
| 대여소 탐색 | ✅ | ✅ |
| 즐겨찾기 | ✅ | ✅ |
| 고장 신고 제출 | ✅ | ✅ |
| 내 신고 조회 | ✅ | ✅ |
| 커뮤니티 게시글 | ✅ | ✅ |
| 마이페이지 | ✅ | ✅ |
| **회원 관리** | ❌ | ✅ |
| **대여소 관리** | ❌ | ✅ |
| **자전거 관리** | ❌ | ✅ |
| **전체 신고 관리** | ❌ | ✅ |
| **신고 검증** | ❌ | ✅ |
| **유지보수 배정** | ❌ | ✅ |
| **재배치 추천** | ❌ | ✅ |
| **통계 대시보드** | ❌ | ✅ |

---

## 접근 제어

### 인증 필요
- 모든 기능은 로그인 후 사용 가능
- 세션 기반 인증 사용

### 역할 기반 접근 제어 (RBAC)
- ADMIN 전용 페이지는 `requireAdmin` 미들웨어로 보호
- USER가 ADMIN 페이지 접근 시 자동으로 메인 페이지로 리다이렉트

---

## 요약

**USER**: 일반 사용자 기능만 사용 가능 (탐색, 신고, 커뮤니티 등)

**ADMIN**: USER의 모든 기능 + 시스템 관리 기능 (회원/대여소/자전거 관리, 통계, 재배치 추천 등)

